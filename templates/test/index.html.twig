{% extends 'base.html.twig' %}

{% block body %}
    <div class="flex items-center flex-wrap px-2 py-4 bg-gray-300">
        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
            <div class="flex items-center flex-shrink-0 ml-6">
                <button class="bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded" onclick="location.href='{{ path('app_ad_new') }}';">Naujas skelbimas</button>
            </div>
        {% endif %}
        <div class="w-full block flex-grow flex lg:w-auto justify-end mr-6">
            <div class="mx-2">
                <button class="material-icons bg-blue-400 hover:bg-blue-500 py-2 px-2 rounded" onclick="layoutGrid()">
                    <span class="material-icons">grid_view</span>
                </button>
                <button class="material-icons bg-blue-400 hover:bg-blue-500 py-2 px-2 rounded" onclick="layoutRows()">
                    <span class="material-icons">reorder</span>
                </button>
            </div>

            <div>
                <input class="rounded w-64 py-2 px-3" id="search" type="text" placeholder="Įveskite paieškos frazę">
            </div>
            <div class="pl-2">
                <input class="rounded w-40 py-2 px-3" id="city" type="text" placeholder="Miestas">
            </div>
            <button class="pl-2">
                <span class="material-icons bg-blue-400 hover:bg-blue-500 py-2 px-2 rounded">search</span>
            </button>
        </div>
    </div>

    <div style="width: 80%; margin: 0 auto;">
        {% for success in app.flashes('success') %}
            <div class="bg-green-100 rounded-lg p-4 mb-4 text-sm text-green-700 dark:bg-green-200 dark:text-green-800" role="alert">
                <span class="font-medium">{{ success }}</span>
            </div>
        {% endfor %}
    </div>

    <div id="layoutRows" class="flex flex-col">
        <div name="adItem" class="w-9/12 ml-auto mr-auto mt-4 hover:bg-gray-100 bg-white cursor-pointer" onclick="location.href='/';">
            <div class="border-b h-40 grid grid-cols-4">
                <div class="h-full p-2">
                    <img class="h-full w-10/12 ml-auto mr-auto" alt="Skelbimo nuotrauka">
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Skelbimo pavadinimas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Miestas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Kaina</p>
                </div>
            </div>
        </div>

        <div name="adItem" class="w-9/12 ml-auto mr-auto mt-4 hover:bg-gray-100 bg-white cursor-pointer" onclick="changeLayout()">
            <div class="border-b h-40 grid grid-cols-4">
                <div class="h-full p-2">
                    <img class="h-full w-10/12 ml-auto mr-auto" alt="Skelbimo nuotrauka">
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Skelbimo pavadinimas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Miestas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Kaina</p>
                </div>
            </div>
        </div>
    </div>

    <div id="layoutGrid" class="hidden flex flex-row flex-wrap ml-40 mr-40">
        <div name="adItem" class="m-10 w-2/12 mt-4 hover:bg-gray-100 bg-white cursor-pointer" onclick="location.href='/';">
            <div class="border h-auto grid grid-col">
                <div class="h-40 p-2">
                    <img class="h-full w-full ml-auto mr-auto" alt="Skelbimo nuotrauka">
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Skelbimo pavadinimas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Miestas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Kaina</p>
                </div>
            </div>
        </div>

        <div name="adItem" class="m-10 w-2/12 mt-4 hover:bg-gray-100 bg-white cursor-pointer" onclick="location.href='/';">
            <div class="border h-auto grid grid-col">
                <div class="h-40 p-2">
                    <img class="h-full w-full ml-auto mr-auto" alt="Skelbimo nuotrauka">
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Skelbimo pavadinimas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Miestas</p>
                </div>
                <div class="grid place-items-center">
                    <p class="text-center">Kaina</p>
                </div>
            </div>
        </div>
    </div>


{% endblock %}

{% block javascript %}
    {{ parent() }}

    <script>
        function layoutGrid() {
            let grid = document.getElementById("layoutGrid");
            let rows = document.getElementById("layoutRows");

            if (grid.classList.contains('hidden')){
                grid.className = grid.className.replace( /(?:^|\s)hidden(?!\S)/g , '' );
                rows.className = rows.className += ( ' hidden' );
            }
        }
        function layoutRows() {
        let grid = document.getElementById("layoutGrid");
        let rows = document.getElementById("layoutRows");

        if (rows.classList.contains('hidden')){
            rows.className = rows.className.replace( /(?:^|\s)hidden(?!\S)/g , '' );
            grid.className = grid.className += ( ' hidden' );
        }

    }
    </script>
{% endblock %}